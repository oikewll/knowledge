{"version":3,"sources":["webpack:///1.web.js","webpack:///./src/views/home.vue","webpack:///./src/views/home.vue?99a2","webpack:///./src/views/home.vue?9166","webpack:///home.vue","webpack:///./src/views/home.vue?c918"],"names":["webpackJsonp","20","module","exports","__webpack_require__","injectStyle","ssrContext","Component","23","content","i","locals","24","push","25","_toConsumableArray","arr","Array","isArray","arr2","length","from","Object","defineProperty","value","_typeof","Symbol","iterator","obj","constructor","prototype","modal","weex","requireModule","stream","default","name","data","pageload","cout","page","keyWord","list","endload","type","created","this","getList","methods","transform","ret","key","encodeURIComponent","JSON","stringify","Number","setItem","fetch","method","url","config","baseurl","headers","Content-Type","body","ok","info","showItem","link","$router","path","query","that","toast","message","duration","concat","related","parse","loadmore","26","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","loadmoreoffset","data-evt-loadmore","nativeOn","weex-type","_v","src","data-img-src","_l","item","index","itemId","data-id","data-evt-click","on","click","$stopOuterA","weex$tap","$event","stopPropagation","wapLink","_s","title","directives","rawName","expression","resize","pic","desc","pv","tag","_e","staticRenderFns"],"mappings":"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","file":"1.web.js","sourcesContent":["// { \"framework\": \"Vue\"} \n\nwebpackJsonp([1],{\n\n/***/ 20:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(23)\n}\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(25),\n  /* template */\n  __webpack_require__(26),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-5113501a\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(24);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(3)(\"c3e25232\", content, true, {});\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(2)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".mod-loading[data-v-5113501a]{height:1.6rem;line-height:1.6rem;text-align:center;color:#999;font-size:.32rem}.loadimg[data-v-5113501a]{height:.93333rem;position:relative;top:50%}.pageload[data-v-5113501a]{height:6.66667rem;line-height:6.66667rem}.item-list[data-v-5113501a]{background:#f4f4f4;color:#666;padding-top:.4rem;padding-right:.4rem;padding-left:.4rem;height:100%}.title[data-v-5113501a]{font-size:.8rem;color:#666;margin-bottom:.4rem}.items[data-v-5113501a]{border:1px solid #d8d8d8;border-radius:.10667rem;background:#fff;padding:.53333rem .4rem;margin-bottom:.53333rem}.item-tit[data-v-5113501a]{font-size:.53333rem;margin-bottom:.53333rem}.item-cont[data-v-5113501a]{margin-bottom:.53333rem;flex-direction:row}.images[data-v-5113501a]{width:1.73333rem;height:1.73333rem;background:#e0e0e0}.content[data-v-5113501a]{font-size:.42667rem;line-height:1.6;color:#666;padding-left:.4rem;flex:2;margin-top:-.10667rem}.item-btm[data-v-5113501a]{font-size:.37333rem;position:relative;flex-direction:row;justify-content:space-between;align-items:center}.read[data-v-5113501a]{display:inline-block;color:#999;font-size:.37333rem}.tags[data-v-5113501a]{right:0;top:0;flex-direction:row;justify-content:flex-end}.tag[data-v-5113501a]{font-size:.34667rem;color:#999;border:1px solid #e0e0e0;min-width:.66667rem;line-height:1.6;padding-left:.26667rem;padding-right:.26667rem;margin-left:.26667rem}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 25:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar modal = weex.requireModule('modal');\nvar stream = weex.requireModule('stream');\nexports.default = {\n\tname: 'App',\n\tdata: function data() {\n\t\treturn {\n\t\t\tpageload: true,\n\t\t\tcout: 10,\n\t\t\tpage: 1,\n\t\t\tkeyWord: '',\n\t\t\tlist: [],\n\t\t\tendload: false,\n\t\t\ttype: ['全部', '人物', '社会', '生活', '文化', '娱乐', '健康', '历史', '科学']\n\t\t};\n\t},\n\tcreated: function created() {\n\t\tthis.getList();\n\t},\n\n\tmethods: {\n\t\ttransform: function transform(obj) {\n\t\t\tvar ret = \"\";\n\t\t\tfor (var key in obj) {\n\t\t\t\tret += encodeURIComponent(key) + \"=\" + encodeURIComponent(_typeof(obj[key]) === 'object' ? JSON.stringify(obj[key]) : typeof obj[key] === 'number' ? Number(obj[key]) : obj[key]) + \"&\";\n\t\t\t}\n\t\t\treturn ret;\n\t\t},\n\t\tsetItem: function setItem(obj) {\n\t\t\tstream.fetch({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: this.config.baseurl + '/set',\n\t\t\t\ttype: 'json',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t\t},\n\t\t\t\tbody: this.transform(obj)\n\t\t\t}, function (ret) {\n\t\t\t\tif (!ret.ok) {\n\t\t\t\t\tconsole.error(ret);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}, function (info) {\n\t\t\t\tconsole.log(info);\n\t\t\t});\n\t\t},\n\t\tshowItem: function showItem(link, obj) {\n\t\t\tconsole.log(link, obj);\n\t\t\t/**\n    * 这里点击后用av的查询id，\n    * 如果没有的就存储一份到数据库\n    */\n\t\t\tthis.setItem(obj);\n\t\t\tthis.$router.push({\n\t\t\t\tpath: '/web',\n\t\t\t\tquery: {\n\t\t\t\t\turl: link\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetList: function getList() {\n\t\t\tvar that = this;\n\t\t\tstream.fetch({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: that.config.baseurl + '/list?count=' + that.cout + '&page=' + that.page + '&keyWord=' + that.keyWord,\n\t\t\t\ttype: 'json'\n\t\t\t}, function (ret) {\n\t\t\t\tif (!ret.ok) {\n\t\t\t\t\tmodal.toast({\n\t\t\t\t\t\tmessage: '请求错误',\n\t\t\t\t\t\tduration: 1.4\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (that.page > 1) {\n\t\t\t\t\t// 除了第一页以外，都需要把旧的数据和新的数据合并\n\t\t\t\t\tthat.list = [].concat(_toConsumableArray(that.list), _toConsumableArray(ret.data));\n\t\t\t\t} else {\n\t\t\t\t\tthat.list = ret.data;\n\t\t\t\t\tthat.pageload = false;\n\t\t\t\t}\n\n\t\t\t\t/**\n     * 后端转发百度api的related相关条目是数组object，\n     * 但有可能会请求超时或者被封api，\n     * 调用av云存储的时候以string写入，所以这里要做个判断，\n     */\n\t\t\t\tfor (var i = 0; i < that.list.length; i++) {\n\t\t\t\t\tif (typeof that.list[i].related === 'string') {\n\t\t\t\t\t\tthat.list[i].related = JSON.parse(that.list[i].related);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthat.endload = false;\n\t\t\t}, function (info) {\n\t\t\t\tconsole.log(info);\n\t\t\t});\n\t\t},\n\t\tloadmore: function loadmore() {\n\t\t\tvar that = this;\n\t\t\tthat.page = that.page + 1;\n\t\t\tthat.endload = true;\n\n\t\t\tthat.getList();\n\t\t}\n\t}\n};\n\n/***/ }),\n\n/***/ 26:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('list', {\n    staticClass: \"item-list\",\n    attrs: {\n      \"loadmoreoffset\": \"40\",\n      \"data-evt-loadmore\": \"\"\n    },\n    nativeOn: {\n      \"loadmore\": _vm.loadmore\n    }\n  }, [_c('section', {\n    staticClass: \" weex-ct weex-cell\",\n    attrs: {\n      \"weex-type\": \"cell\"\n    }\n  }, [_c('p', {\n    staticClass: \"title weex-el weex-text\",\n    attrs: {\n      \"weex-type\": \"text\"\n    }\n  }, [_vm._v(\"你知道吗？\")])]), _vm._v(\" \"), (_vm.pageload) ? _c('section', {\n    staticClass: \"mod-loading pageload weex-ct weex-cell\",\n    attrs: {\n      \"weex-type\": \"cell\"\n    }\n  }, [_c('figure', {\n    staticClass: \"loadimg weex-el weex-image\",\n    attrs: {\n      \"src\": \"https://static.xiaoxiaoge.com/icon/ellipsis.svg\",\n      \"data-img-src\": \"https://static.xiaoxiaoge.com/icon/ellipsis.svg\",\n      \"weex-type\": \"image\"\n    }\n  })]) : _vm._l((_vm.list), function(item, index) {\n    return _c('section', {\n      key: item.itemId,\n      staticClass: \"items weex-ct weex-cell\",\n      attrs: {\n        \"data-id\": item.itemId,\n        \"weex-type\": \"cell\",\n        \"data-evt-click\": \"\"\n      },\n      on: {\n        \"click\": _vm.$stopOuterA,\n        \"weex$tap\": function($event) {\n          $event.stopPropagation();\n          _vm.showItem(item.wapLink, item)\n        }\n      }\n    }, [_c('p', {\n      staticClass: \"item-tit weex-el weex-text\",\n      attrs: {\n        \"weex-type\": \"text\"\n      }\n    }, [_vm._v(_vm._s(item.title))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item-cont weex-ct weex-div\",\n      attrs: {\n        \"weex-type\": \"div\"\n      }\n    }, [_c('figure', {\n      directives: [{\n        name: \"weex-resize\",\n        rawName: \"v-weex-resize\",\n        value: (\"cover\"),\n        expression: \"\\\"cover\\\"\"\n      }],\n      staticClass: \"images weex-el weex-image\",\n      attrs: {\n        \"resize\": \"cover\",\n        \"src\": item.pic,\n        \"data-img-src\": item.pic,\n        \"weex-type\": \"image\"\n      }\n    }), _vm._v(\" \"), _c('p', {\n      staticClass: \"content weex-el weex-text\",\n      attrs: {\n        \"weex-type\": \"text\"\n      }\n    }, [_vm._v(_vm._s(item.desc))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item-btm weex-ct weex-div\",\n      attrs: {\n        \"weex-type\": \"div\"\n      }\n    }, [_c('p', {\n      staticClass: \"read weex-el weex-text\",\n      attrs: {\n        \"weex-type\": \"text\"\n      }\n    }, [_vm._v(\"阅读：\" + _vm._s(item.pv))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"tags weex-ct weex-div\",\n      attrs: {\n        \"weex-type\": \"div\"\n      }\n    }, _vm._l((item.related), function(tag) {\n      return _c('p', {\n        staticClass: \"tag weex-el weex-text\",\n        attrs: {\n          \"weex-type\": \"text\",\n          \"data-evt-click\": \"\"\n        },\n        on: {\n          \"click\": _vm.$stopOuterA,\n          \"weex$tap\": function($event) {\n            $event.stopPropagation();\n            _vm.showItem(tag.url, null)\n          }\n        }\n      }, [_vm._v(_vm._s(tag.title))])\n    }))])])\n  }), _vm._v(\" \"), (_vm.endload) ? _c('section', {\n    staticClass: \"mod-loading weex-ct weex-cell\",\n    attrs: {\n      \"weex-type\": \"cell\"\n    }\n  }, [_vm._v(\"加载中…\")]) : _vm._e()], 2)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 1.web.js","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5113501a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./home.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5113501a\\\",\\\"hasScoped\\\":true}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./home.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-5113501a\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/home.vue\n// module id = 20\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5113501a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./home.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"c3e25232\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5113501a\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/home.vue\n// module id = 23\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mod-loading[data-v-5113501a]{height:1.6rem;line-height:1.6rem;text-align:center;color:#999;font-size:.32rem}.loadimg[data-v-5113501a]{height:.93333rem;position:relative;top:50%}.pageload[data-v-5113501a]{height:6.66667rem;line-height:6.66667rem}.item-list[data-v-5113501a]{background:#f4f4f4;color:#666;padding-top:.4rem;padding-right:.4rem;padding-left:.4rem;height:100%}.title[data-v-5113501a]{font-size:.8rem;color:#666;margin-bottom:.4rem}.items[data-v-5113501a]{border:1px solid #d8d8d8;border-radius:.10667rem;background:#fff;padding:.53333rem .4rem;margin-bottom:.53333rem}.item-tit[data-v-5113501a]{font-size:.53333rem;margin-bottom:.53333rem}.item-cont[data-v-5113501a]{margin-bottom:.53333rem;flex-direction:row}.images[data-v-5113501a]{width:1.73333rem;height:1.73333rem;background:#e0e0e0}.content[data-v-5113501a]{font-size:.42667rem;line-height:1.6;color:#666;padding-left:.4rem;flex:2;margin-top:-.10667rem}.item-btm[data-v-5113501a]{font-size:.37333rem;position:relative;flex-direction:row;justify-content:space-between;align-items:center}.read[data-v-5113501a]{display:inline-block;color:#999;font-size:.37333rem}.tags[data-v-5113501a]{right:0;top:0;flex-direction:row;justify-content:flex-end}.tag[data-v-5113501a]{font-size:.34667rem;color:#999;border:1px solid #e0e0e0;min-width:.66667rem;line-height:1.6;padding-left:.26667rem;padding-right:.26667rem;margin-left:.26667rem}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5113501a\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/home.vue\n// module id = 24\n// module chunks = 1","<template>\n\t<list class=\"item-list\"\n\t\tloadmoreoffset='40'\n\t\t@loadmore=\"loadmore\"\n\t>\n\t\t<cell>\n\t\t\t<text class=\"title\">你知道吗？</text>\n\t\t</cell>\n\n\t\t<cell class=\"mod-loading pageload\" v-if=\"pageload\">\n\t\t\t<image class=\"loadimg\" src=\"https://static.xiaoxiaoge.com/icon/ellipsis.svg\"></image>\n\t\t</cell>\n\t\t<cell class=\"items\" v-for=\"(item, index) in list\" :key=\"item.itemId\" @click=\"showItem(item.wapLink, item)\" :data-id=\"item.itemId\" v-else>\n\t\t\t<text class=\"item-tit\">{{item.title}}</text>\n\t\t\t<div class=\"item-cont\">\n\t\t\t\t<image class=\"images\" resize=\"cover\" :src=\"item.pic\"></image>\n\t\t\t\t<text class=\"content\">{{item.desc}}</text>\n\t\t\t</div>\n\t\t\t<div class=\"item-btm\">\n\t\t\t\t<text class=\"read\">阅读：{{item.pv}}</text>\n\t\t\t\t<div class=\"tags\">\n\t\t\t\t\t<text class=\"tag\" v-for=\"tag in item.related\" @click=\"showItem(tag.url, null)\">{{tag.title}}</text>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</cell>\n\t\t<cell class=\"mod-loading\" v-if=\"endload\">加载中…</cell>\n\t</list>\n</template>\n\n<script>\nconst modal = weex.requireModule('modal');\nconst stream = weex.requireModule('stream');\nexport default {\n\tname: 'App',\n\tdata () {\n\t\treturn {\n\t\t\tpageload: true,\n\t\t\tcout: 10,\n\t\t\tpage: 1,\n\t\t\tkeyWord: '',\n\t\t\tlist: [],\n\t\t\tendload: false,\n\t\t\ttype: ['全部', '人物', '社会', '生活', '文化', '娱乐', '健康', '历史', '科学']\n\t\t}\n\t},\n\tcreated(){\n\t\tthis.getList();\n\t},\n\tmethods: {\n\t\ttransform(obj) {\n\t\t\tlet ret = \"\";\n\t\t\tfor (let key in obj) {\n\t\t\t\tret +=\n\t\t\t\tencodeURIComponent(key) +\n\t\t\t\t\"=\" +\n\t\t\t\tencodeURIComponent((typeof(obj[key]) === 'object') ? JSON.stringify(obj[key]) : (typeof(obj[key]) === 'number') ? Number(obj[key]) : obj[key] ) +\n\t\t\t\t\"&\";\n\t\t\t}\n\t\t\treturn ret;\n\t\t},\n\t\tsetItem(obj){\n\t\t\tstream.fetch({\n\t\t        method: 'POST',\n\t\t\t\turl: this.config.baseurl + '/set',\n\t\t\t\ttype:'json',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t\t},\n\t\t\t\tbody: this.transform(obj),\n\t\t\t}, ret => {\n\t\t\t\tif (!ret.ok) {\n\t\t\t\t\tconsole.error(ret);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t}, info => {\n\t\t\t\tconsole.log(info);\n\t\t\t});\n\t\t},\n\t\tshowItem(link, obj){\n\t\t\tconsole.log(link, obj);\n\t\t\t/**\n\t\t\t * 这里点击后用av的查询id，\n\t\t\t * 如果没有的就存储一份到数据库\n\t\t\t */\n\t\t\tthis.setItem(obj);\n\t\t\tthis.$router.push({\n\t\t\t\tpath: '/web',\n\t\t\t\tquery: {\n\t\t\t\t\turl: link\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetList(){\n\t\t\tlet that = this;\n\t\t\tstream.fetch({\n\t\t        method: 'GET',\n\t\t\t\turl: that.config.baseurl + '/list?count='+that.cout+'&page='+that.page+'&keyWord='+ that.keyWord,\n\t\t\t\ttype:'json'\n\t\t\t}, ret => {\n\t\t\t\tif (!ret.ok) {\n\t\t\t\t\tmodal.toast({\n\t\t\t\t\t\tmessage: '请求错误',\n\t\t\t\t\t\tduration: 1.4\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (that.page > 1) {\n\t\t\t\t\t// 除了第一页以外，都需要把旧的数据和新的数据合并\n\t\t\t\t\tthat.list = [...that.list, ...ret.data];\n\t\t\t\t}else{\n\t\t\t\t\tthat.list = ret.data;\n\t\t\t\t\tthat.pageload = false;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * 后端转发百度api的related相关条目是数组object，\n\t\t\t\t * 但有可能会请求超时或者被封api，\n\t\t\t\t * 调用av云存储的时候以string写入，所以这里要做个判断，\n\t\t\t\t */\n\t\t\t\tfor (let i = 0; i < that.list.length; i++) {\n\t\t\t\t\tif (typeof(that.list[i].related) === 'string') {\n\t\t\t\t\t\tthat.list[i].related = JSON.parse(that.list[i].related);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthat.endload = false;\n\t\t\t}, info => {\n\t\t\t\tconsole.log(info);\n\t\t\t});\n\t\t},\n\t\tloadmore(){\n\t\t\tlet that = this;\n\t\t\tthat.page = that.page + 1;\n\t\t\tthat.endload = true;\n\n\t\t\tthat.getList();\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.mod-loading{\n\theight: 120px;\n\tline-height: 120px;\n\ttext-align: center;\n\tcolor: #999;\n\tfont-size: 24px;\n}\n.loadimg{\n\theight: 70px;\n\tposition: relative;\n\ttop: 50%;\n}\n.pageload{\n\theight: 500px;\n\tline-height: 500px;\n}\n.item-list{\n\tbackground: #f4f4f4;\n\tcolor: #666;\n\tpadding-top: 30px;\n\tpadding-right: 30px;\n\tpadding-left: 30px;\n\theight: 100%;\n}\n.title{\n\tfont-size: 60px;\n\tcolor: #666;\n\tmargin-bottom: 30px;\n}\n.items{\n\tborder: 1px solid #d8d8d8;\n\tborder-radius: 8px;\n\tbackground: #fff;\n\tpadding-top: 40px;\n\tpadding-left: 30px;\n\tpadding-right: 30px;\n\tpadding-bottom: 40px;\n\tmargin-bottom: 40px;\n}\n.item-tit{\n\tfont-size: 40px;\n\tmargin-bottom: 40px;\n}\n.item-cont{\n\tmargin-bottom: 40px;\n\tflex-direction: row;\n\t/*justify-content: space-between;*/\n}\n.images{\n\twidth: 130px;\n\theight: 130px;\n\tbackground: #e0e0e0;\n}\n.content{\t\n\tfont-size: 32px;\n\tline-height: 1.6;\n\tcolor: #666;\n\tpadding-left: 30px;\n\t/*width: 200px;*/\n\tflex: 2;\n\tmargin-top: -8px;\n}\n.item-btm{\n\tfont-size: 28px;\n\tposition: relative;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n.read{\n\tdisplay: inline-block;\n\tcolor: #999;\n\tfont-size: 28px;\n}\n.tags{\n\tright: 0;\n\ttop: 0;\n\tflex-direction: row;\n\tjustify-content: flex-end;\n}\n.tag{\n\tfont-size: 26px;\n\tcolor: #999;\n\tborder: 1px solid #e0e0e0;\n\tmin-width: 50px;\n\tline-height: 1.6;\n\tpadding-left: 20px;\n\tpadding-right: 20px;\n\tmargin-left: 20px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// home.vue?380526c6","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('list', {\n    staticClass: \"item-list\",\n    attrs: {\n      \"loadmoreoffset\": \"40\",\n      \"data-evt-loadmore\": \"\"\n    },\n    nativeOn: {\n      \"loadmore\": _vm.loadmore\n    }\n  }, [_c('section', {\n    staticClass: \" weex-ct weex-cell\",\n    attrs: {\n      \"weex-type\": \"cell\"\n    }\n  }, [_c('p', {\n    staticClass: \"title weex-el weex-text\",\n    attrs: {\n      \"weex-type\": \"text\"\n    }\n  }, [_vm._v(\"你知道吗？\")])]), _vm._v(\" \"), (_vm.pageload) ? _c('section', {\n    staticClass: \"mod-loading pageload weex-ct weex-cell\",\n    attrs: {\n      \"weex-type\": \"cell\"\n    }\n  }, [_c('figure', {\n    staticClass: \"loadimg weex-el weex-image\",\n    attrs: {\n      \"src\": \"https://static.xiaoxiaoge.com/icon/ellipsis.svg\",\n      \"data-img-src\": \"https://static.xiaoxiaoge.com/icon/ellipsis.svg\",\n      \"weex-type\": \"image\"\n    }\n  })]) : _vm._l((_vm.list), function(item, index) {\n    return _c('section', {\n      key: item.itemId,\n      staticClass: \"items weex-ct weex-cell\",\n      attrs: {\n        \"data-id\": item.itemId,\n        \"weex-type\": \"cell\",\n        \"data-evt-click\": \"\"\n      },\n      on: {\n        \"click\": _vm.$stopOuterA,\n        \"weex$tap\": function($event) {\n          $event.stopPropagation();\n          _vm.showItem(item.wapLink, item)\n        }\n      }\n    }, [_c('p', {\n      staticClass: \"item-tit weex-el weex-text\",\n      attrs: {\n        \"weex-type\": \"text\"\n      }\n    }, [_vm._v(_vm._s(item.title))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item-cont weex-ct weex-div\",\n      attrs: {\n        \"weex-type\": \"div\"\n      }\n    }, [_c('figure', {\n      directives: [{\n        name: \"weex-resize\",\n        rawName: \"v-weex-resize\",\n        value: (\"cover\"),\n        expression: \"\\\"cover\\\"\"\n      }],\n      staticClass: \"images weex-el weex-image\",\n      attrs: {\n        \"resize\": \"cover\",\n        \"src\": item.pic,\n        \"data-img-src\": item.pic,\n        \"weex-type\": \"image\"\n      }\n    }), _vm._v(\" \"), _c('p', {\n      staticClass: \"content weex-el weex-text\",\n      attrs: {\n        \"weex-type\": \"text\"\n      }\n    }, [_vm._v(_vm._s(item.desc))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item-btm weex-ct weex-div\",\n      attrs: {\n        \"weex-type\": \"div\"\n      }\n    }, [_c('p', {\n      staticClass: \"read weex-el weex-text\",\n      attrs: {\n        \"weex-type\": \"text\"\n      }\n    }, [_vm._v(\"阅读：\" + _vm._s(item.pv))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"tags weex-ct weex-div\",\n      attrs: {\n        \"weex-type\": \"div\"\n      }\n    }, _vm._l((item.related), function(tag) {\n      return _c('p', {\n        staticClass: \"tag weex-el weex-text\",\n        attrs: {\n          \"weex-type\": \"text\",\n          \"data-evt-click\": \"\"\n        },\n        on: {\n          \"click\": _vm.$stopOuterA,\n          \"weex$tap\": function($event) {\n            $event.stopPropagation();\n            _vm.showItem(tag.url, null)\n          }\n        }\n      }, [_vm._v(_vm._s(tag.title))])\n    }))])])\n  }), _vm._v(\" \"), (_vm.endload) ? _c('section', {\n    staticClass: \"mod-loading weex-ct weex-cell\",\n    attrs: {\n      \"weex-type\": \"cell\"\n    }\n  }, [_vm._v(\"加载中…\")]) : _vm._e()], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5113501a\",\"hasScoped\":true}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/home.vue\n// module id = 26\n// module chunks = 1"],"sourceRoot":""}